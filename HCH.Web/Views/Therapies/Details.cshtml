@model HCH.Web.Models.TherapyViewModel

@using System.Globalization;

    @{
        ViewData["Title"] = "Details";
        Layout = "~/Views/Shared/_Layout.cshtml";
    }

<div class="container">

    <h4>Детайли за терапия</h4>
    <hr />
    <div class="row">
        <div class="col-md-3">
            <p class="text-bold mb-0" style="text-align:right;">Пациент:</p>
            <p class="text-bold mb-0" style="text-align:right;">Терапевт:</p>
            <p class="text-bold mb-0" style="text-align:right;">Начална дата:</p>
            <p class="text-bold mb-0" style="text-align:right;">Крайна дата:</p>
        </div>
        <div class="col-md-9">
            <p>@Model.Patient</p>
            <p>@Model.Therapist</p>
            <p>@Model.StartDate.ToString("dd.MM.yyyy", CultureInfo.InvariantCulture)</p>
            <p>@Model.EndDate.ToString("dd.MM.yyyy", CultureInfo.InvariantCulture)</p>
        </div>
    </div>

    <hr />
    <div class="row">
        <div class="col-md-3">
            <p class="text-bold mb-0" style="text-align:right;">Предписани лечебни средства:</p>
        </div>
        <div class="col-md-9">

            @foreach (var item in Model.Treatments)
            {
                <p>@item.Name - цена @item.Price лв.</p>
            }

        </div>
    </div>
    <hr />
    <div class="row">

        <div class="col-md-3">
            <p class="text-bold mb-0" style="text-align:right;">Обща цена:</p>
        </div>
        <div class="col-md-9">
            <p>@Model.Treatments.Sum(x => x.Price) лв.</p>
        </div>
    </div>
    <div>
        <hr />
        <a asp-action="Edit" asp-route-id="@Model.TherapyId">Промени</a> |
        <a asp-area="" asp-controller="Examinations" asp-action="Index">Към списъка</a>
    </div>
</div>
